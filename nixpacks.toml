# Nixpacks configuration for Railway deployment
# This tells Railway to build the backend Python application

[phases.setup]
# Python 3.11 with system dependencies for OpenCV and TensorFlow
nixPkgs = [
  "python311",
  "gcc",
  "g++",
  "glib",
  "libGL",
  "libGLU",
  "libglib"
]

[phases.install]
cmds = ["pip install --upgrade pip", "pip install -r backend/requirements.txt"]

[phases.build]
cmds = []

[start]
cmd = "cd backend && gunicorn app:app --bind 0.0.0.0:$PORT"
